<div class="manager" *ngIf="this.auth.blogin">



<nav class="navbar navbar-expand-lg navbar-light bg-light" >
    <a class="navbar-brand display-4" href="#" style="height: 50px;" ><h4>Welcome Manager</h4></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <!-- Add asset Modal -->
          <a class="nav-link" href="#" data-toggle="modal" data-target="#exampleModalScrollable" >Raise Request <span class="sr-only">(current)</span></a>
          <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title ml-5" id="exampleModalScrollableTitle">Raise Request</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                  <form #RaiserequestForm="ngForm" (ngSubmit)='raiseRequest(RaiserequestForm)'>
                    <div class="form-group row  col-md-12 mt-4">
                      <label for="AssetName" class="col-sm-4 col-form-label">Asset Name</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" id="asset_name" name="asset_name" placeholder="Asset Name" #asset_name="ngModel" ngModel required>
                      </div>
                    </div>
                    <div class="form-group row  col-md-12 mt-4">
                      <label for="AssetDescription" class="col-sm-4 col-form-label">Asset Description</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" id="asset_desc" name="asset_desc" placeholder="Asset Description" #asset_desc="ngModel" ngModel required>
                      </div>
                    </div>
                    <div class="form-group row col-md-12 mt-4 ">
                      <label for="EmployeeNumber" class="col-sm-4 col-form-label mt--1">Employee Number</label>
                      <div class="col-sm-8">
                        <input type="number" class="form-control" id="emp_no" name="emp_no" placeholder="Employee Number" #emp_no="ngModel" ngModel required>
                      </div>
                    </div>
                    <div class="form-group row col-md-12 mt-4 ">
                      <label for="UserID" class="col-sm-4 col-form-label mt--1">User ID</label>
                      <div class="col-sm-8">
                        <input type="number" class="form-control" id="userid" name="userid" placeholder="Your ID" #userid="ngModel" ngModel required>
                      </div>
                    </div>
                    <div class="form-group row col-md-12 mt-4">
                        <label for="quantity" class="col-sm-4 col-form-label">Quantity</label>
                        <div class="col-sm-8">
                          <input type="number" class="form-control" id="quantity" name="quantity" placeholder="Quantity" #quantity="ngModel" ngModel required>
                        </div>
                      </div>
                      <div class="form-group row col-md-12 mt-4">
                          <label for="Department" class="col-sm-4 col-form-label">Department</label>
                          <div class="col-sm-8">
                            <input type="text" class="form-control" id="department" name="department" placeholder="Department" #department="ngModel" ngModel required>
                          </div>
                        </div>
                  </form>
                <div class="modal-body">
                 
                </div>
                <div class="modal-footer mt-2">
                    <div class="form-group row  text-center">
                        <div class="col-sm-10">
                          <button type="submit" class="btn btn-primary"(click)='raiseRequest(RaiserequestForm)'>Submit</button>
          
                        </div>
                      </div>
                </div>
              </div>
            </div>
          </div>
        </li>
       
      
      </ul>
      <button type="link" class="btn btn-dark pull-right navbar-header" (click)='logout()' style="float: right">
          Logout
        </button>
    </div>
  </nav>


 <!--body--> 

 
 <h2 class="text-center mt-5" >View Asset Status</h2>
 <div class="input-group mb-5 col-md-6 offset-3 mt-5 input-group-outline-success"  >
   <input type="text" class="form-control " placeholder="Enter an employee no" id="search" name="search" aria-label="Recipient's username" aria-describedby="button-addon2" (touched)="search()">
   <div class="input-group-append">
     <button class="btn btn-outline-success" type="button" id="button-addon2">Search</button>
   </div>
 </div>

 <div class="container">




    <table class="table table-bordered table-hover mt-3">
        <thead class="thead-dark bg-success">
            <tr>
                <th>Allocation Id</th><!--requestid-->
                <th>Allocation Date</th>
                <th>Asset Id</th><!--asset name-->
                <th>Asset Name</th><!--asset description-->
                <th>Department</th><!--user id-->
                <th>Employee No</th>
                <th>Quantity</th>
                <th>Release Date</th>
                <th>Status</th>
                <th>ID</th>

            </tr>
        </thead>

        <!-- allocation_id: 27
status: "approved"
asset_id: 0
emp_no: 123
allocation_date: "2019-12-05T00:00:00.000+0000"
release_date: "2019-12-05T00:00:00.000+0000"
department: "cs"
quantity: 23
asset_name: "abc"
userid: 0
assetid: 0 -->
         <tbody>
           <!-- | filter : search; index as i -->
            <tr *ngFor='let request of allocatedassets'>
         

                <td>{{request.allocation_id}}</td>
                <td>{{request.allocation_date}}</td>
                <td>{{request.asset_id}}</td>
                <td>{{request.asset_name}}</td>
                <td>{{request.department}}</td>
                <td>{{request.emp_no}}</td>
                <td>{{request.quantity}}</td>
                <td>{{request.release_date}}</td>
                <td>{{request.status}}</td>
                <td>{{request.userid}}</td>
                
            </tr>
        </tbody>
    </table>
 </div>
</div>
<script>
$('#myModal').on('shown.bs.modal', function () {
  $('#myInput').trigger('focus')
})


</script>

<style>

.navbar-header{
  margin-left:78%;

}
</style>